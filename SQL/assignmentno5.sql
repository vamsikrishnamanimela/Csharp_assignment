CREATE DATABASE SQLASSIGNMENT5
use SQLASSIGNMENT5
--CLIENT TABLE
CREATE TABLE CLIENTS
(
CLIENT_ID  NUMERIC(4) PRIMARY  KEY,
CNAME VARCHAR(40) NOT NULL,
ADDRES_S VARCHAR(30),
EMAIL VARCHAR(30) unique,
PHONE NUMERIC(10),
BUSINESS VARCHAR(20) NOT NULL
)
insert into Clients
values--(1001,'ACME UTILITIES','NOIDA','CONTACT@ACMEUTIL.COM',9567880032,'MANUFACTURING'),
(1002,'TRACKONT CONSULTANTS ','MUMBAI','CONSULT@TRACKON.COM',8734210090,'CONSULTANT'),
(1003,'MONEYSAVER DISTRIBUTORS','KOLKATA','SAVE@MONEYSERVER.COM',7799886655,'RESELLER'),
(1004, 'LAWFUL CROP', 'CHENNAI', 'JUSTICE@LAWFUL.COM', 9210342219, 'PROFESSIONAL')
--CREATE EMPLOYEE
CREATE TABLE EMPLOYEES
(EMPNO NUMERIC(4) PRIMARY KEY,
ENAME VARCHAR(20) NOT NULL,
JOB VARCHAR(15),
SALARY NUMERIC(7) CHECK(SALARY>0),
DEPTNO NUMERIC(2) FOREIGN KEY REFERENCES DEPARTMENTS(DEPTNO)
)
INSERT INTO EMPLOYEES VALUES
(7001,'SANDEEP','ANALYST',25000,10),
(7002,'RAJESH','DESIGNER',30000,10),
(7003,'MADHAV','DEVELOPER',40000,20),
(7004,'MANOJ','DEVELOPER',40000,20),
(7005,'ABHAY','DESIGNER',35000,10),
(7006,'UMA','TESTER',30000,30),
(7007,'GITA','TECH.WRITER',30000,40),
(7008,'PRIYA','TESTER',35000,30),
(7009,'NUTAN','DEVELOPER',45000,20),
(7010,'SMITA','ANALYST',20000,10),
(7011,'ANAND','PROJECT MGR',65000,10)
--CREATE DEPARTMENTS
CREATE TABLE DEPARTMENTS
(
DEPTNO NUMERIC(2) PRIMARY KEY, 
DNAME VARCHAR(20) NOT NULL,
LOC VARCHAR(20))
INSERT INTO DEPARTMENTS
VALUES(10,'DESIGN','PUNE'),
(20,'DEVELOPMENT','PUNE'),
(30,'TESTING','MUMBAI'),
(40,'DOCUMENT','MUMBAI')
--CREATING PROJECT
CREATE TABLE PROJECT
(
PROJECT_ID NUMERIC(3) PRIMARY KEY,
DESCR VARCHAR(30) NOT NULL,
STARTDATE  DATE,
PLANNED_END_DATE DATE,
ACTUAL_END_DATE DATE  CHECK(PLANNED_END_DATE<ACTUAL_END_DATE),
BUDGET NUMERIC(10) CHECK(BUDGET>0),
CLIENT_ID NUMERIC(4) FOREIGN KEY REFERENCES CLIENTS(CLIENT_ID)
)

INSERT INTO PROJECT VALUES
(401,'INVENTORY','01-APR-11','01-OCT-11','31-OCT-11',150000,1001),
(402,'ACCOUNTING','01-AUG-11','01-JAN-12',NULL, 500000,1002),
(403,'PAYROLL','01-OCT-11','31-DEC-11',NULL, 75000,1003),
(404,'CONTACT MGMT','01-NOV-11','31-DEC-11',NULL,50000,1004)
--CREATE  PROJECTTASKS
CREATE TABLE PROJECTTASKS
(
PROJECT_ID NUMERIC(3)FOREIGN KEY REFERENCES PROJECT(PROJECT_ID),
EMPNO NUMERIC(4) FOREIGN KEY REFERENCES EMPLOYEES(EMPNO),
STARTS_DATE DATE, 
END_DATE DATE, 
TASK VARCHAR(25) NOT NULL,
_STATUS VARCHAR(15) NOT NULL, PRIMARY KEY(PROJECT_ID,EMPNO)
)

INSERT INTO PROJECTTASKS
VALUES
(401,7001,'01-APR-11','20-APR-11','SYSTEM ANALYSIS','COMPLETED'),
(401,7002,'21-APR-11','30-MAY-11','SYSTEM DESIGN','COMPLETED'),
(401,7003,'01-JUN-11','15-JUL-11','CODING','COMPLETED'),
(401,7004,'18-JUL-11','01-SEP-11','CODING', 'COMPLETED'),
(401,7006,'03-SEP-11','15-SEP-11','TESTING','COMPLETED'),
(401,7009,'18-SEP-11','05-OCT-11','CODE CHANGE','COMPLETED'),
(401,7008,'06-OCT-11','16-OCT-11','TESTING','COMPLETED'),
(401,7007,'06-OCT-11','22-OCT-11','DOCUMENTATION','COMPLETED'),
(401,7011,'22-OCT-11','31-OCT-11','SIGN OFF','COMPLETED'),
(402,7010,'01-AUG-11','20-AUG-11','SYSTEM ANALYSIS','COMPLETED'),
(402,7002,'22-AUG-11','30-SEP-11','SYSTEM DESIGN','COMPLETED'),
(402,7004,'01-OCT-11',NULL, 'CODING','IN PROGRESS')



